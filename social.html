<!DOCTYPE html>
<html ng-app="socialApp">
	<head>
		<link href="/social.css" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css?family=Raleway:100,400" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300,700" rel="stylesheet">
		<meta name="viewport" content="width=device-width, initial-scale=1">
	</head>
	<body>
		<header>
			<div class="title">
				<h2><a href="/">Smia</a></h2>
			</div>
			<div class="logos">
				<img class="social-logo" src="/instalogo.png" alt="instagram">
				<img class="social-logo" src="/twitterlogo.png" alt="twitter">
				<img class="social-logo" src="/facebooklogo.png" alt="facebook">
			</div>
		</header>
		<div class="sidebar">
			<img class="social-logo" src="/instalogo.png" alt="instagram">
			<img class="social-logo" src="/twitterlogo.png" alt="twitter">
			<img class="social-logo" src="/facebooklogo.png" alt="facebook">
		</div>
		<div class="content" ng-controller="SocialPhotoController as social">
			<div class="social-maintext">
				<div class="top-left"></div>
				<div class="top-right"></div>
				<div class="bottom-left"></div>
				<div class="bottom-right"></div>
				<h4 class="highlighter-large">This is a social media integration application for the twitter, instagram, and facebook APIs. It can use #hashtags to pull in photos, as well as pull photos from a specific profile on any of the aforementioned social media outlets. Enter #athlon or #athlonsports below to test it out.</h4>
				<form action="/setHash" method="post">
					<input name="name" type="text" placeholder="#hashtag">
					<input value="SUBMIT" type="submit">
				</form>
			</div>
			<ul class="social-feed">
				<li ng-repeat="data in social.data">
					<div class="social-card">
						<div class="img-container">
							<a ng-href="{{data.link}}" target="_blank">
								<div class="hover-cover"></div>							
								<img class="social-photo" ng-src="{{data.images.standard_resolution.url}}">
								<!-- <img class="social-photo" src="/stan.png" alt="instagram"> -->
							</a>
						</div>
						<div class="social-logos">
							<img class="social-logo" src="/instalogo.png">
							<img class="social-logo" ng-src="{{data.user.profile_picture}}">
						</div>
						<p class="highlighter">
							<a ng-href="https://www.instagram.com/{{data.user.username}}" target="_blank">
								{{data.user.username}}
							</a>
						</p>
					</div>
				</li>
			</ul>
		</div>
	</body>
		<script>
		//use window.scrollY
		var scrollpos = window.scrollY;
		var header = document.getElementsByClassName("sidebar")[0];

		function add_class_on_scroll() {
		    header.classList.add("scrolled");
		}

		function remove_class_on_scroll() {
		    header.classList.remove("scrolled");
		}

		window.addEventListener('scroll', function(){ 
		    //Here you forgot to update the value
		    scrollpos = window.scrollY;

		    if(scrollpos > 45){
		        add_class_on_scroll();
		    }
		    else {
		        remove_class_on_scroll();
		    }
		});
	</script>
	<script src="/node_modules/angular/angular.js"></script>
	<script src="/socialApp.js"></script>
</html>

